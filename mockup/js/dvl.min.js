var DVL={lang:function(e){return(/^fr(-CA)?$/.test(e.documentElement.lang)||/\/francais\//.test(e.location.href))&&"fr"||"en"}(document),plugins:"undefined"!=typeof DVL&&DVL.plugins||["overlays","header","sidebar","intelli","tables","tabs","videoplayer","background-image","formfields","accordion","popup","carousel"],init:function(){$.getScripts({urls:_.map(DVL.plugins,function(e){return(/^\.\/|\.\.|\/|http/.test(e)?e:"/dvl/v1.0/assets/js/"+e)+".min.js"}),success:function(){},complete:function(){}}),DVL.fn.fixes(),DVL.fn.linkableTab(),DVL.fn.scrollTo(),DVL.fn.footerYear(),DVL.fn.equalHeight()},device:{browser:function(e){var t=e;if(null==t){var n=bowser.name;return n}var r=bowser[t];return r},os:function(e){var t=e,n=bowser[t];return n}},fn:{fixes:function(){var e=$(".grid-half, .grid-three-fourths, .grid-two-thirds, .grid-one-fourth, .grid-one-third");e.each(function(){$(this).children(".callout").length>=1&&$(this).children(".callout").is(":only-child")&&$(this).addClass("flex")}),DVL.device.os("ios")&&$("html").addClass("ios"),bowser.ios&&"10.2.1"==bowser.osversion&&$("html").addClass("ios10andless"),bowser.ipad&&bowser.version<10.3&&$("html").addClass("ios10andless");var t=$("span.tel-number");t.length>=1&&t.each(function(e,t){var n=$(this),r=n.text();$(window).width()<640&&n.html('<a href="tel:'+r+'">'+r+"</a>"),$(window).resize(function(e){$(window).width()<640?n.html('<a href="tel:'+r+'">'+r+"</a>"):n.html(r)})})},footerYear:function(){var e=new Date,t=e.getFullYear();$(".footer-year").text(t)},linkableTab:function(){var e=document.location.toString();e.match("#")&&$('.tab-nav a[href="#'+e.split("#")[1]+'"]').tab("show"),$(".tab-nav a").on("shown.bs.tab",function(e){history.pushState?history.pushState(null,null,e.target.hash):window.location.hash=e.target.hash})},scrollTo:function(){$(document).on("click",".scrollto",function(e){e.preventDefault();var t=$(this).data("target"),n="undefined"!=typeof t&&t!==!1?$(this).data("target"):$(this).attr("href"),r=$(n);if(0!==r.length&&(e.preventDefault(),r&&r.length)){var o,a=r.closest(".collapse-content"),i=$(".nav-bar"),s=$(".anchor-bar"),l=(i.length>0?i.outerHeight():0,s.length>0?s.outerHeight():0),c=l+l;a&&a.length&&!a.hasClass("in")&&a.collapse("show"),o=r.offset().top-c,$("body, html").animate({scrollTop:o},500),r.is(":focusable")?r.focus():r.attr("tabindex","-1").focus()}});var e=!!navigator.userAgent.match(/Trident.*rv\:11\./);_anchorToTarget=function(){if(window.location.hash){var e=location.href.split("#")[1],t=/[^A-Za-z0-9 _,]+/g;if(t.test(e))return!1;if($(location.href.split("#")[1])){var n=$("#"+location.href.split("#")[1]);if(n.length){var r,o=$(".nav-bar"),a=$(".anchor-bar"),i=o.length>0?o.outerHeight():0,s=a.length>0?a.outerHeight():0,l=i+s;return r=n.offset().top-l,$("html, body").animate({scrollTop:r},500),n.is(":focusable")?n.focus():n.attr("tabindex","-1").focus(),!1}}}},e?_anchorToTarget():window.onload=function(){_anchorToTarget()}},appendOverlay:function(){$("body").append('<div class="overlay"></div>').delay(1).queue(function(){$(".overlay").addClass("overlay-visible"),$(this).dequeue()}),$("body").addClass("overlay-visible"),$("header, main, footer").attr("aria-hidden","true")},removeOverlay:function(){$(".overlay").removeClass("overlay-visible").delay(300).queue(function(){$(this).remove(),$(this).dequeue()}),$("body").removeClass("overlay-visible"),$("header, main, footer").removeAttr("aria-hidden")},equalHeight:function(){_eh=function(){if(0!==$(".eh-wpr").length){var e=$(".eh-wpr");0!==e.find(".eh").length&&e.each(function(e,t){var n=$(this),r=n.find(".eh");r.css("min-height",0);var o=r.map(function(){return $(this).outerHeight()}).get(),a=Math.max.apply(null,o);r.css("min-height",a)})}},_eh(),$(window).resize(function(e){_eh()})}},core:{getScripts:function(e){var t,n,r=[],o=e.urls;e.errorOccurred=!1,e.scriptsProcessed=0,t=function(){r.push(arguments),e.scriptsProcessed++,r.length===o.length&&"function"==typeof e.success&&e.success($.merge([],r))},n=function(){e.scriptsProcessed++,e.errorOccurred=!0};for(var a=0;a<o.length;a++)$.getScriptCached({url:o[a],success:t,error:n,complete:e.complete.bind(e)})},getScriptCached:function(e){_.defaults(e,{dataType:"script",crossDomain:!0,async:!0,cache:!0}),$.ajax(e)}}};$.extend(DVL.core),$(document).ready(DVL.init);